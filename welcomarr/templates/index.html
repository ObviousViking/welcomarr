{% extends 'base.html' %}

{% block title %}Welcomarr - Plex Onboarding System{% endblock %}

{% block content %}
<div class="hero">
    <div class="container text-center">
        <h1 class="display-4">Welcome to Welcomarr</h1>
        <p class="lead">The simple way to onboard users to your Plex server</p>
    </div>
</div>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card mb-4">
                <div class="card-body text-center">
                    <h2 class="card-title">Have an invitation code?</h2>
                    <p class="card-text">Enter your invitation code below to get started with your Plex onboarding.</p>
                    <form action="{{ url_for('invitation_page', code='placeholder') }}" method="get" id="codeForm">
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" id="inviteCode" placeholder="Enter your invitation code" required>
                            <button class="btn btn-primary" type="submit">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-user-plus fa-3x mb-3 text-primary"></i>
                    <h3 class="card-title">Easy Onboarding</h3>
                    <p class="card-text">Simple process to get you connected to the Plex server with just a few clicks.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-film fa-3x mb-3 text-primary"></i>
                    <h3 class="card-title">Access Great Content</h3>
                    <p class="card-text">Get access to a vast library of movies, TV shows, and more.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-mobile-alt fa-3x mb-3 text-primary"></i>
                    <h3 class="card-title">Watch Anywhere</h3>
                    <p class="card-text">Stream content on any device, anytime, anywhere.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.getElementById('codeForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const code = document.getElementById('inviteCode').value.trim();
        if (code) {
            window.location.href = "{{ url_for('invitation_page', code='') }}" + code;
        }
    });
</script>
{% endblock %}